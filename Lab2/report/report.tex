\include{settings}

\begin{document}	% начало документа

% Титульная страница
\include{titlepage}

% Содержание
\include{ToC}


\section{Цель работы}
Необходимо построить автоматную модель для следующей задачи:

Горнолоыжный склон, на котором есть две кассы для оплаты, очередь в кассу и очередь на подъемник. Для того, чтобы спуститься со склона необходимо оплатить подъем в одной из двух касс. Человек из очереди подходит к кассе и в течении некоторого времени оплачивает подъем. После оплаты клиенты встают в очередь на подъемник. Далее - подъем на склон. Если клиент поднялся на склон, то считается, что после этого он съедет вниз.

В том случае, когда очередь в кассу занимает больше положенного времени, клиент может уйти. Тогда он не съедет со склона. 

При описании модели стремиться сделать ее масштабируемой по отношению к клиентам и кассам. За стандартную модель были приняты следующие значения: длина очереди - 5, количество касс - 2. 

Проверить следующие утверждения:
\begin{itemize}
\item Все клиенты съедут со склона
\item Все кассы, в конечном итоге, освободятся.
\item Если клиент был в очереди, то, в конечном итоге, он спустится.
\item Ни у кого из клиентов не закончится терпение.
\end{itemize}

\section{Построение модели}
Для реализации заданной модели были построены два конечных автомата, каждый из которых отвечает за поведение отдельного оператора. Такими автоматами являются: клиент и касса. Так же, в системе предусмотрен объект, отвечающий за постановку клиентов в очередь. 


\section{Описание модели на языке Promela}
C учетом реализации в модель были добавлены несколько проверок на языке LTL. Описание модели показано в листинге \ref{code:model}

\lstinputlisting[
	label=code:model,
	linerange={1-128},
	caption={Описание задачи},
]{model.pml}
\parindent=1cm


Описание всех спецификаций приведено в листинге \ref{code:spec}.


\lstinputlisting[
	label=code:spec,
	linerange={129-158},
	caption={Описание спецификации},
]{model.pml}
\parindent=1cm

Верификация модели показала, что все спецификации выполняются (листинг \ref{code:tests}).


\lstinputlisting[
	label=code:tests,
	caption={Результаты верификации},
]{tests}
\parindent=1cm

\newpage
\section{Выводы}
В ходе работы была описана и верифицирована модель системы осуществления подъемов и спусков на/со склона. Для описания модели был использован язык Promela. А для описания спецификаций --- LTL формулы. Верификация была проведена с помощью утилиты Spin. 

Исходя из опыта работы с утилитой Spin, полученного в ходе выполнения данной работы, можно сделать вывод о том, что верификация требует не мало технических ресурсов. Однако, она позволяет решить множество задач, которые оказываются трудоемкими для решения человеком.

\end{document}
